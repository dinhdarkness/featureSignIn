{"version":3,"sources":["assets/Script/FBSDK.js","assets/Script/LoginFacebook.ts","assets/Script/LoginScreen.ts"],"names":["_","a","b","c","d","e","f","window","console","Math","floor","Date","getTime","warn","JSON","g","__buffer","replay","this","calls","split","forEach","apply","length","opts","getUserID","getAuthResponse","getAccessToken","init","h","i","pop","j","k","push","Array","prototype","slice","call","arguments","document","createElement","src","async","crossOrigin","getElementsByTagName","parentNode","insertBefore","_a","cc","_decorator","ccclass","property","NewClass","_super","__extends","_this","label","text","__decorate","Label","Component","exports","default","LoginScreen","nodeLayoutLogin","nodeLayoutSignIn","labelTokenValue","labelIDValue","nodeToken","nodeID","nodeLayoutUserInfo","start","active","onButtonSignInClick","onButtonSignWithFBClick","sys","isBrowser","FB","getLoginStatus","response","statusChangeCallback","log","status","_userInfo","token","authResponse","accessToken","testAPI","login","api","name","id","loginDone","updateUserInfo","node","string","Node"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAqBA,SAAAA,EAAAC,GAAAC,GAAAC,GAAAC,GAAAC;MACI,IAAAC,IAAAC,OAAAC;MACAF,KAAAG,KAAAC,MAAA,IAAAC,OAAAC,YAAA,OAAAV,IAAA,UAAAI,EAAAO,KAAA;MACA,IAAAN,OAAAJ,IAAA;MACA,KAAAI,OAAAO,MAAA;MACA,IAAAC,IAAAR,OAAAJ,KAAA;QACIa,UAAA;UACIC,QAAA,SAAAA;YACI,IAAAhB,IAAAiB,MAAAhB,IAAA,SAAAA,EAAAE;cAEQ,IAAAF,IAAAK,OAAAJ;cACAF,EAAAkB,MAAAf,GAAA,GAAAgB,MAAA,KAAAC,QAAA,SAAApB;gBACI,OAAAC,IAAAA,EAAAD;;cAEJC,EAAAoB,MAAA,MAAArB,EAAAkB,MAAAf,GAAA;;YAER,KAAA,IAAAA,IAAA,GAAAA,IAAAc,KAAAC,MAAAI,QAAAnB,KAA4CF,EAAAE;YAC5Cc,KAAAC,QAAA;;UAEJA,OAAA;UACAK,MAAA;;QAEJC,WAAA,SAAAA;UACI,OAAA;;QAEJC,iBAAA,SAAAA;UACI,OAAA;;QAEJC,gBAAA,SAAAA;UACI,OAAA;;QAEJC,MAAA,SAAAA,KAAA3B;UACIc,EAAAC,SAAAQ,OAAAvB;;;MAGR,KAAAC,IAAA,GAAAA,IAAAE,EAAAmB,QAAArB,KAAA;QACII,IAAAF,EAAAF;QACA,IAAAI,KAAAS,GAAA;QACA,IAAAc,IAAAvB,EAAAc,MAAA,MAAAU,IAAAD,EAAAE,OAAAC,IAAAjB;QAGA,KAAA,IAAAkB,IAAA,GAAAA,IAAAJ,EAAAN,QAAAU,KAAmCD,IAAAA,EAAAH,EAAAI,QAAAD,EAAAH,EAAAI,MAAA;QACnCD,EAAAF,KAAA,SAAA7B;UACI,IAAA,WAAAA,GAAA;UACA,OAAA;YACIc,EAAAC,SAAAG,MAAAe,KAAA,EAAAjC,GAAAkC,MAAAC,UAAAC,MAAAC,KAAAC;;SAHR,CAKCjC;;MAEL2B,IAAAO,SAAAC,cAAA;MACAR,EAAAS,MAAAzC;MACAgC,EAAAU,SAAA;MACAtC,MAAA4B,EAAAW,cAAA;MACAf,IAAAW,SAAAK,qBAAA,UAAA;MACAhB,EAAAiB,cAAAjB,EAAAiB,WAAAC,aAAAd,GAAAJ;MAtDJ,CAuDC,mFAAA,YAAA,MAAA,EAAA,wBAAA,4BAAA,yBAAA,6BAAA,yBAAA,2BAAA,uBAAA,sBAAA,yBAAA,yBAAA,2BAAA,uBAAA,kCAAA,mCAAA,mCAAA,uCAAA,uCAAA,sBAAA,mBAAA,sBAAA,yBAAA,kBAAA,wBAAA,qBAAA,oBAAA,mBAAA,qBAAA,eAAA,aAAA,OAAA,kBAAA,mBAAA,kBAAA,aAAA,QAAA,SAAA,UAAA,WAAA,SAAA,QAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC5EK,IAAAmB,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAGN,IAAAC,WAAA,SAAAC;MAAsCC,UAAAF,UAAAC;MAAtC,SAAAD;QAAA,IAAAG,QAAA,SAAAF,UAAAA,OAAAhC,MAAAJ,MAAAqB,cAAArB;QAGIsC,MAAAC,QAAA;QAGAD,MAAAE,OAAA;;;MAHAC,WAAA,EADCP,SAAAH,GAAAW,UACsBP,SAAAjB,WAAA,cAAA;MAGvBuB,WAAA,EADCP,YACsBC,SAAAjB,WAAA,aAAA;MANNiB,WAAAM,WAAA,EADpBR,WACoBE;MASrB,OAAAA;KATA,CAAAJ,GAAAY;IAAqBC,QAAAC,UAAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICHf,IAAAL,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAGN,IAAAY,cAAA,SAAAV;MAAyCC,UAAAS,aAAAV;MAAzC,SAAAU;QAAA,IAAAR,QAAA,SAAAF,UAAAA,OAAAhC,MAAAJ,MAAAqB,cAAArB;QAGIsC,MAAAS,kBAAA;QAEAT,MAAAU,mBAAA;QAEAV,MAAAW,kBAAA;QAEAX,MAAAY,eAAA;QAEAZ,MAAAa,YAAA;QAEAb,MAAAc,SAAA;QAEAd,MAAAe,qBAAA;;;MAQAP,YAAA5B,UAAAoC,QAAA;QACItD,KAAA+C,gBAAAQ,SAAA;QACAvD,KAAAgD,iBAAAO,SAAA;QACAvD,KAAAqD,mBAAAE,SAAA;;MAGJT,YAAA5B,UAAAsC,sBAAA;QACIxD,KAAA+C,gBAAAQ,SAAA;QACAvD,KAAAgD,iBAAAO,SAAA;;MAGJT,YAAA5B,UAAAuC,0BAAA;QAAA,IAAAnB,QAAAtC;QACI+B,GAAA2B,IAAAC,aACIC,GAAAC,eAAA,SAAAC;UACIxB,MAAAyB,qBAAAD;;;MAKZhB,YAAA5B,UAAA6C,uBAAA,SAAAD;QACIxE,QAAA0E,IAAA;QACA1E,QAAA0E,IAAAF;QACA,IAAA,gBAAAA,SAAAG,QAAA;UACIjE,KAAAkE,UAAAC,QAAAL,SAAAM,aAAAC;UACArE,KAAAsE;eAEAV,GAAAW,MAAA,SAAAT;UACI,IAAAA,SAAAM,cAAA;YACA9E,QAAA0E,IAAA;YACAJ,GAAAY,IAAA,OAAA,SAAAV;cACIxE,QAAA0E,IAAA,sBAAAF,SAAAW,OAAA;cACAzE,KAAAkE,UAAAQ,KAAAZ,SAAAY;cACA1E,KAAAkE,UAAAO,OAAAX,SAAAW;;iBAGJnF,QAAA0E,IAAA;;;MAMZlB,YAAA5B,UAAAoD,UAAA;QACIhF,QAAA0E,IAAA;QACAJ,GAAAY,IAAA,OAAA,SAAAV;UACIxE,QAAA0E,IAAA,2BAAAF;UACA9D,KAAAkE,UAAAQ,KAAAZ,SAAAY;UACA1E,KAAAkE,UAAAO,OAAAX,SAAAW;;;MAIR3B,YAAA5B,UAAAyD,YAAA;QACI3E,KAAAgD,iBAAAO,SAAA;QACAvD,KAAA+C,gBAAAQ,SAAA;QACAvD,KAAAqD,mBAAAE,SAAA;;MAGJT,YAAA5B,UAAA0D,iBAAA;QACI5E,KAAAmD,UAAAI,SAAA;QACAvD,KAAAiD,gBAAA4B,KAAAtB,SAAA;QACAvD,KAAAiD,gBAAA6B,SAAA9E,KAAAkE,UAAAC;QACAnE,KAAAoD,OAAAG,SAAA;QACAvD,KAAAkD,aAAA2B,KAAAtB,SAAA;QACAvD,KAAAkD,aAAA4B,SAAA9E,KAAAkE,UAAAQ;;MAlFJjC,WAAA,EADCP,SAAAH,GAAAgD,SAC+BjC,YAAA5B,WAAA,wBAAA;MAEhCuB,WAAA,EADCP,SAAAH,GAAAgD,SACgCjC,YAAA5B,WAAA,yBAAA;MAEjCuB,WAAA,EADCP,SAAAH,GAAAW,UACgCI,YAAA5B,WAAA,wBAAA;MAEjCuB,WAAA,EADCP,SAAAH,GAAAW,UAC6BI,YAAA5B,WAAA,qBAAA;MAE9BuB,WAAA,EADCP,SAAAH,GAAAgD,SACyBjC,YAAA5B,WAAA,kBAAA;MAE1BuB,WAAA,EADCP,SAAAH,GAAAgD,SACsBjC,YAAA5B,WAAA,eAAA;MAEvBuB,WAAA,EADCP,SAAAH,GAAAgD,SACkCjC,YAAA5B,WAAA,2BAAA;MAflB4B,cAAAL,WAAA,EADpBR,WACoBa;MAuFrB,OAAAA;KAvFA,CAAAf,GAAAY;IAAqBC,QAAAC,UAAAC","sourcesContent":["/*1675162631,,JIT Construction: v1006886893,en_US*/\n\n/**\n * Copyright (c) 2017-present, Facebook, Inc. All rights reserved.\n *\n * You are hereby granted a non-exclusive, worldwide, royalty-free license to use,\n * copy, modify, and distribute this software in source code or binary form for use\n * in connection with the web services and APIs provided by Facebook.\n *\n * As with any software that integrates with the Facebook platform, your use of\n * this software is subject to the Facebook Platform Policy\n * [http://developers.facebook.com/policy/]. This copyright notice shall be\n * included in all copies or substantial portions of the software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n(function _(a, b, c, d, e) {\n    var f = window.console;\n    f && Math.floor(new Date().getTime() / 1e3) - b > 7 * 24 * 60 * 60 && f.warn(\"The Facebook JSSDK is more than 7 days old.\");\n    if (window[c]) return;\n    if (!window.JSON) return;\n    var g = window[c] = {\n        __buffer: {\n            replay: function () {\n                var a = this,\n                    b = function (d) {\n                        var b = window[c];\n                        a.calls[d][0].split(\".\").forEach(function (a) {\n                            return b = b[a]\n                        });\n                        b.apply(null, a.calls[d][1])\n                    };\n                for (var d = 0; d < this.calls.length; d++) b(d);\n                this.calls = []\n            },\n            calls: [],\n            opts: null\n        },\n        getUserID: function () {\n            return \"\"\n        },\n        getAuthResponse: function () {\n            return null\n        },\n        getAccessToken: function () {\n            return null\n        },\n        init: function (a) {\n            g.__buffer.opts = a\n        }\n    };\n    for (b = 0; b < d.length; b++) {\n        f = d[b];\n        if (f in g) continue;\n        var h = f.split(\".\"),\n            i = h.pop(),\n            j = g;\n        for (var k = 0; k < h.length; k++) j = j[h[k]] || (j[h[k]] = {});\n        j[i] = function (a) {\n            if (a === \"init\") return;\n            return function () {\n                g.__buffer.calls.push([a, Array.prototype.slice.call(arguments)])\n            }\n        }(f)\n    }\n    k = document.createElement(\"script\");\n    k.src = a;\n    k.async = !0;\n    e && (k.crossOrigin = \"anonymous\");\n    h = document.getElementsByTagName(\"script\")[0];\n    h.parentNode && h.parentNode.insertBefore(k, h)\n})(\"https:\\/\\/connect.facebook.net\\/en_US\\/sdk.js?hash=ca973832d85233cf58c07f68ffa6c55b\", 1675162631, \"FB\", [\"AppEvents.EventNames\", \"AppEvents.ParameterNames\", \"AppEvents.activateApp\", \"AppEvents.clearAppVersion\", \"AppEvents.clearUserID\", \"AppEvents.getAppVersion\", \"AppEvents.getUserID\", \"AppEvents.logEvent\", \"AppEvents.logPageView\", \"AppEvents.logPurchase\", \"AppEvents.setAppVersion\", \"AppEvents.setUserID\", \"AppEvents.updateUserProperties\", \"Canvas.Plugin.showPluginElement\", \"Canvas.Plugin.hidePluginElement\", \"Canvas.Prefetcher.addStaticResource\", \"Canvas.Prefetcher.setCollectionMode\", \"Canvas.getPageInfo\", \"Canvas.scrollTo\", \"Canvas.setAutoGrow\", \"Canvas.setDoneLoading\", \"Canvas.setSize\", \"Canvas.setUrlHandler\", \"Canvas.startTimer\", \"Canvas.stopTimer\", \"Event.subscribe\", \"Event.unsubscribe\", \"XFBML.parse\", \"addFriend\", \"api\", \"getAccessToken\", \"getAuthResponse\", \"getLoginStatus\", \"getUserID\", \"init\", \"login\", \"logout\", \"publish\", \"share\", \"ui\"], true);","const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Label)\n    label: cc.Label = null;\n\n    @property\n    text: string = 'hello';\n\n    \n}\n","const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class LoginScreen extends cc.Component {\n\n    @property(cc.Node)\n    nodeLayoutLogin: cc.Node = null;\n    @property(cc.Node)\n    nodeLayoutSignIn: cc.Node = null;\n    @property(cc.Label)\n    labelTokenValue: cc.Label = null;\n    @property(cc.Label)\n    labelIDValue: cc.Label = null;\n    @property(cc.Node)\n    nodeToken: cc.Node = null;\n    @property(cc.Node)\n    nodeID: cc.Node = null;\n    @property(cc.Node)\n    nodeLayoutUserInfo: cc.Node = null;\n\n    private _userInfo: {\n        token: string,\n        id: string\n        name: string\n    };\n\n    start () {\n        this.nodeLayoutLogin.active = true;\n        this.nodeLayoutSignIn.active = false;\n        this.nodeLayoutUserInfo.active = false;\n    }\n\n    onButtonSignInClick(): void {\n        this.nodeLayoutLogin.active = false;\n        this.nodeLayoutSignIn.active = true;\n    }\n\n    onButtonSignWithFBClick(): void {\n        if(cc.sys.isBrowser) {\n            FB.getLoginStatus((response) => {\n                this.statusChangeCallback(response);\n            });\n        }\n    }\n\n    statusChangeCallback(response) {  // Called with the results from FB.getLoginStatus().\n        console.log('statusChangeCallback');\n        console.log(response);                   // The current login status of the person.\n        if (response.status === 'connected') {   // Logged into your webpage and Facebook.\n            this._userInfo.token = response.authResponse.accessToken;\n            this.testAPI();  \n        } else {                                 // Not logged into your webpage or we are unable to tell.\n            FB.login(function(response) {\n                if (response.authResponse) {\n                console.log('Welcome!  Fetching your information.... ');\n                FB.api('/me', function(response) {\n                    console.log('Good to see you, ' + response.name + '.');\n                    this._userInfo.id = response.id;\n                    this._userInfo.name = response.name;\n                });\n                } else {\n                console.log('User cancelled login or did not fully authorize.');\n                }\n            });\n        }\n    }\n\n    testAPI() {                      // Testing Graph API after login.  See statusChangeCallback() for when this call is made.\n        console.log('Welcome!  Fetching your information.... ');\n        FB.api('/me', function(response) {\n            console.log('Successful login for: ' + response);\n            this._userInfo.id = response.id;\n            this._userInfo.name = response.name;\n        });\n    }\n\n    loginDone(): void {\n        this.nodeLayoutSignIn.active = false;\n        this.nodeLayoutLogin.active = false;\n        this.nodeLayoutUserInfo.active = true;\n    }\n\n    updateUserInfo(): void {\n        this.nodeToken.active = true;\n        this.labelTokenValue.node.active = true;\n        this.labelTokenValue.string = this._userInfo.token;\n        this.nodeID.active = true;\n        this.labelIDValue.node.active = true;\n        this.labelIDValue.string = this._userInfo.id;\n    }\n}\n"],"file":"index.js"}