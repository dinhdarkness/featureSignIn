{"version":3,"sources":["assets/Script/FBSDK.js","assets/Script/LoginFacebook.ts","assets/Script/LoginScreen.ts"],"names":["_","a","b","c","d","e","f","window","console","Math","floor","Date","getTime","warn","JSON","g","__buffer","replay","this","calls","split","forEach","apply","length","opts","getUserID","getAuthResponse","getAccessToken","init","h","i","pop","j","k","push","Array","prototype","slice","call","arguments","document","createElement","src","async","crossOrigin","getElementsByTagName","parentNode","insertBefore","_a","cc","_decorator","ccclass","property","NewClass","_super","__extends","_this","label","text","__decorate","Label","Component","exports","default","LoginScreen","nodeLayoutLogin","nodeLayoutSignIn","start","active","fbAsyncInit","FB","appId","cookie","xfbml","version","AppEvents","logPageView","s","id","js","fjs","getElementById","onButtonSignInClick","onButtonSignWithFBClick","getLoginStatus","response","statusChangeCallback","log","status","testAPI","login","authResponse","api","name","innerHTML","Node"],"mappings":"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","sourcesContent":["/*1675162631,,JIT Construction: v1006886893,en_US*/\n\n/**\n * Copyright (c) 2017-present, Facebook, Inc. All rights reserved.\n *\n * You are hereby granted a non-exclusive, worldwide, royalty-free license to use,\n * copy, modify, and distribute this software in source code or binary form for use\n * in connection with the web services and APIs provided by Facebook.\n *\n * As with any software that integrates with the Facebook platform, your use of\n * this software is subject to the Facebook Platform Policy\n * [http://developers.facebook.com/policy/]. This copyright notice shall be\n * included in all copies or substantial portions of the software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n(function _(a, b, c, d, e) {\n    var f = window.console;\n    f && Math.floor(new Date().getTime() / 1e3) - b > 7 * 24 * 60 * 60 && f.warn(\"The Facebook JSSDK is more than 7 days old.\");\n    if (window[c]) return;\n    if (!window.JSON) return;\n    var g = window[c] = {\n        __buffer: {\n            replay: function () {\n                var a = this,\n                    b = function (d) {\n                        var b = window[c];\n                        a.calls[d][0].split(\".\").forEach(function (a) {\n                            return b = b[a]\n                        });\n                        b.apply(null, a.calls[d][1])\n                    };\n                for (var d = 0; d < this.calls.length; d++) b(d);\n                this.calls = []\n            },\n            calls: [],\n            opts: null\n        },\n        getUserID: function () {\n            return \"\"\n        },\n        getAuthResponse: function () {\n            return null\n        },\n        getAccessToken: function () {\n            return null\n        },\n        init: function (a) {\n            g.__buffer.opts = a\n        }\n    };\n    for (b = 0; b < d.length; b++) {\n        f = d[b];\n        if (f in g) continue;\n        var h = f.split(\".\"),\n            i = h.pop(),\n            j = g;\n        for (var k = 0; k < h.length; k++) j = j[h[k]] || (j[h[k]] = {});\n        j[i] = function (a) {\n            if (a === \"init\") return;\n            return function () {\n                g.__buffer.calls.push([a, Array.prototype.slice.call(arguments)])\n            }\n        }(f)\n    }\n    k = document.createElement(\"script\");\n    k.src = a;\n    k.async = !0;\n    e && (k.crossOrigin = \"anonymous\");\n    h = document.getElementsByTagName(\"script\")[0];\n    h.parentNode && h.parentNode.insertBefore(k, h)\n})(\"https:\\/\\/connect.facebook.net\\/en_US\\/sdk.js?hash=ca973832d85233cf58c07f68ffa6c55b\", 1675162631, \"FB\", [\"AppEvents.EventNames\", \"AppEvents.ParameterNames\", \"AppEvents.activateApp\", \"AppEvents.clearAppVersion\", \"AppEvents.clearUserID\", \"AppEvents.getAppVersion\", \"AppEvents.getUserID\", \"AppEvents.logEvent\", \"AppEvents.logPageView\", \"AppEvents.logPurchase\", \"AppEvents.setAppVersion\", \"AppEvents.setUserID\", \"AppEvents.updateUserProperties\", \"Canvas.Plugin.showPluginElement\", \"Canvas.Plugin.hidePluginElement\", \"Canvas.Prefetcher.addStaticResource\", \"Canvas.Prefetcher.setCollectionMode\", \"Canvas.getPageInfo\", \"Canvas.scrollTo\", \"Canvas.setAutoGrow\", \"Canvas.setDoneLoading\", \"Canvas.setSize\", \"Canvas.setUrlHandler\", \"Canvas.startTimer\", \"Canvas.stopTimer\", \"Event.subscribe\", \"Event.unsubscribe\", \"XFBML.parse\", \"addFriend\", \"api\", \"getAccessToken\", \"getAuthResponse\", \"getLoginStatus\", \"getUserID\", \"init\", \"login\", \"logout\", \"publish\", \"share\", \"ui\"], true);","const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Label)\n    label: cc.Label = null;\n\n    @property\n    text: string = 'hello';\n\n    \n}\n","const {ccclass, property} = cc._decorator;\n  \n@ccclass\nexport default class LoginScreen extends cc.Component {\n\n    @property(cc.Node)\n    nodeLayoutLogin: cc.Node = null;\n    @property(cc.Node)\n    nodeLayoutSignIn: cc.Node = null;\n    start () {\n        this.nodeLayoutLogin.active = true;\n        this.nodeLayoutSignIn.active = false;\n        window.fbAsyncInit = function() {\n            FB.init({\n              appId      : '577254864321632',\n              cookie     : true,                     // Enable cookies to allow the server to access the session.\n              xfbml      : true,                     // Parse social plugins on this webpage.\n              version    : 'v15.0'           // Use this Graph API version for this call.\n            });\n        }\n        FB.AppEvents.logPageView();\n        (function(d, s, id){\n            var js, fjs = d.getElementsByTagName(s)[0];\n            if (d.getElementById(id)) {return;}\n            js = d.createElement(s); js.id = id;\n            js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n            fjs.parentNode.insertBefore(js, fjs);\n          }(document, 'script', 'facebook-jssdk'));\n    }\n\n    onButtonSignInClick(): void {\n        this.nodeLayoutLogin.active = false;\n        this.nodeLayoutSignIn.active = true;\n    }\n\n    onButtonSignWithFBClick(): void {\n        FB.getLoginStatus((response) => {\n            this.statusChangeCallback(response);\n        });\n    }\n\n    statusChangeCallback(response) {  // Called with the results from FB.getLoginStatus().\n        console.log('statusChangeCallback');\n        console.log(response);                   // The current login status of the person.\n        if (response.status === 'connected') {   // Logged into your webpage and Facebook.\n          this.testAPI();  \n        } else {                                 // Not logged into your webpage or we are unable to tell.\n        //   document.getElementById('status').innerHTML = 'Please log ' +\n        //     'into this webpage.';\n            FB.login(function(response) {\n                if (response.authResponse) {\n                console.log('Welcome!  Fetching your information.... ');\n                FB.api('/me', function(response) {\n                console.log('Good to see you, ' + response.name + '.');\n                });\n                } else {\n                console.log('User cancelled login or did not fully authorize.');\n                }\n            });\n        }\n    }\n\n    testAPI() {                      // Testing Graph API after login.  See statusChangeCallback() for when this call is made.\n        console.log('Welcome!  Fetching your information.... ');\n        FB.api('/me', function(response) {\n          console.log('Successful login for: ' + response.name);\n          document.getElementById('status').innerHTML =\n            'Thanks for logging in, ' + response.name + '!';\n        });\n    }\n\n}\n"],"file":"index.js"}